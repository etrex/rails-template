<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <!-- Logo and Home Link -->
  <a class="navbar-brand ms-3" href="/"><%= image_tag "/images/logo-128.png", class: "navbar-logo", alt: "logo" %><%= 服務名稱 %></a>

  <!-- Mobile Toggle Button -->
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarNav">

    <!-- My Question Bank Link - Only visible to logged-in users -->
    <% if current_user.present? %>
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link" href="/resources">資源名稱</a>
        </li>
      </ul>
    <% end %>

    <!-- User Authentication Section -->
    <div class="d-flex ms-auto me-3">
      <% if current_user.present? %>
        <span class="me-2"><%= current_user.name %> 您好：</span>
        <%= button_to "登出", destroy_user_session_path, method: :delete, form_class: 'inline-form', style: "display: inline; background: none; border: none; padding: 0; font: inherit; cursor: pointer; color: #069; text-decoration: underline;" %>
      <% else %>
        <%= button_to "登入", user_line_omniauth_authorize_path, data: {turbo: false}, form_class: 'line-login-form inline-form', style: "display: inline; background: none; border: none; padding: 0; font: inherit; cursor: pointer; color: #069; text-decoration: underline;" %>
      <% end %>
    </div>

  </div>
</nav>
